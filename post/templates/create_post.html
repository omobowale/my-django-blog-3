
{% extends "general_layout.html" %}


{% block title %}

<title>Create New Post - MyBlog</title>

{% endblock %}

{% block main_content %}

    <main class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
      <!-- Header Section -->
      <div class="text-center mb-12 fade-in">
        <div class="inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-purple-500 to-indigo-600 rounded-full mb-4">
          <i class="fas fa-pen-fancy text-white text-2xl"></i>
        </div>
        <h1 class="text-4xl font-extrabold text-gray-900 mb-2">Create New Post</h1>
        <p class="text-gray-600 text-lg">Share your thoughts with the world</p>
      </div>

      <!-- Form Container -->
      <div class="glass-effect rounded-2xl shadow-2xl p-8 slide-in">
        <form method="POST" enctype="multipart/form-data" id="postForm">
          {% csrf_token %}
          
          <!-- Title Field -->
          <div class="mb-8">
            <label class="flex items-center text-gray-700 font-semibold mb-3">
              <i class="fas fa-heading text-indigo-600 mr-2"></i>
              Post Title
            </label>
            <input 
              type="text"
              class="form-input w-full px-4 py-3 border-2 border-gray-300 rounded-lg outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 transition-all duration-300" 
              name="title" 
              id="title"
              placeholder="Enter an engaging title..."
              value="{{form.title.value | default:''}}"
              maxlength="200"
            />
            <div class="flex justify-between items-center mt-2">
              <div class="text-red-500 text-sm">
                {% if form.errors.title %}
                  <i class="fas fa-exclamation-circle mr-1"></i>{{ form.errors.title }}
                {% endif %}
              </div>
              <div class="char-counter">
                <span id="titleCount">0</span>/200
              </div>
            </div>
          </div>

          <!-- Content Field -->
          <div class="mb-8">
            <label class="flex items-center text-gray-700 font-semibold mb-3">
              <i class="fas fa-align-left text-indigo-600 mr-2"></i>
              Post Content
            </label>
            <textarea 
              rows="10" 
              class="form-input w-full px-4 py-3 border-2 border-gray-300 rounded-lg outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 transition-all duration-300 resize-y" 
              name="content"
              id="content"
              placeholder="Write your story here..."
            >{{form.content.value | default:''}}</textarea>
            <div class="flex justify-between items-center mt-2">
              <div class="text-red-500 text-sm">
                {% if form.errors.content %}
                  <i class="fas fa-exclamation-circle mr-1"></i>The content field is required.
                {% endif %}
              </div>
              <div class="char-counter">
                <span id="contentCount">0</span> characters
              </div>
            </div>
          </div>

          <!-- Image Upload Field -->
          <div class="mb-8">
            <label class="flex items-center text-gray-700 font-semibold mb-3">
              <i class="fas fa-image text-indigo-600 mr-2"></i>
              Featured Image
              <span class="text-gray-400 text-sm font-normal ml-2">(Optional)</span>
            </label>
            <div class="file-upload-wrapper">
              <div class="flex items-center justify-center w-full">
                <label for="image" class="flex flex-col items-center justify-center w-full h-40 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100 transition-all duration-300">
                  <div class="flex flex-col items-center justify-center pt-5 pb-6" id="uploadPlaceholder">
                    <i class="fas fa-cloud-upload-alt text-gray-400 text-4xl mb-3"></i>
                    <p class="mb-2 text-sm text-gray-500"><span class="font-semibold">Click to upload</span> or drag and drop</p>
                    <p class="text-xs text-gray-500">PNG, JPG, GIF up to 10MB</p>
                  </div>
                  <input 
                    type="file" 
                    id="image"
                    name="image" 
                    accept="image/*"
                    class="hidden"
                  />
                </label>
              </div>
            </div>
            <div class="text-red-500 text-sm mt-2">
              {% if form.errors.image %}
                <i class="fas fa-exclamation-circle mr-1"></i>{{ form.errors.image }}
              {% endif %}
            </div>
            <!-- Image Preview -->
            <div id="imagePreview" class="mt-4 hidden">
              <p class="text-sm text-gray-600 mb-2 font-medium">Preview:</p>
              <div class="relative inline-block">
                <img id="previewImg" src="" alt="Preview" class="preview-image" />
                <button 
                  type="button" 
                  id="removeImage"
                  class="absolute top-2 right-2 bg-red-500 text-white rounded-full w-8 h-8 flex items-center justify-center hover:bg-red-600 transition-colors shadow-lg"
                >
                  <i class="fas fa-times"></i>
                </button>
              </div>
            </div>
          </div>

          <!-- Action Buttons -->
          <div class="flex items-center justify-between pt-6 border-t border-gray-200">
            <a 
              href="/" 
              class="px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-all duration-300 font-medium flex items-center"
            >
              <i class="fas fa-arrow-left mr-2"></i>
              Cancel
            </a>
            <button 
              class="btn-submit px-8 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-lg hover:from-purple-700 hover:to-indigo-700 transition-all duration-300 font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 flex items-center relative"
              type="submit"
            >
              <i class="fas fa-paper-plane mr-2"></i>
              Publish Post
            </button>
          </div>
        </form>
      </div>

      <!-- Help Section -->
      <div class="mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6">
        <h3 class="text-lg font-semibold text-blue-900 mb-3 flex items-center">
          <i class="fas fa-lightbulb text-yellow-500 mr-2"></i>
          Writing Tips
        </h3>
        <ul class="space-y-2 text-blue-800 text-sm">
          <li class="flex items-start">
            <i class="fas fa-check-circle text-green-500 mr-2 mt-0.5"></i>
            <span>Use a compelling title that captures attention</span>
          </li>
          <li class="flex items-start">
            <i class="fas fa-check-circle text-green-500 mr-2 mt-0.5"></i>
            <span>Break your content into short paragraphs for better readability</span>
          </li>
          <li class="flex items-start">
            <i class="fas fa-check-circle text-green-500 mr-2 mt-0.5"></i>
            <span>Add a high-quality featured image to make your post stand out</span>
          </li>
        </ul>
      </div>
    </main>


{% endblock %}
